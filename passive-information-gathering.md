# Passive Information Gathering of Organizations
* **Description**: This document explains how to collect passive information about an organization and build a profile of that organization. Additionly to explain about the, introduction, information gathering, information gathering from the source,  information gathering from other sources and profile building of organization.

* **Introduction**: It explains the different methods used to collect passive information about an organization from the software test platform in the IT Security Lab network, the software programs used for that, how should a security professional think about for collecting passive information about an organization??, and how to build a profile of that organization using the information available.

* **Information Gathering**: Information gathering is the act of collecting data for a specific purpose. That is, data is collected to profiling a specific target and the information in that data is used to attack.
* The attacker searches the Internet to see if there is any information available that could be used to attack any of the organization's assets, while the security expert checks the Internet to see if has made any information available on the Internet that could be used to attack.

* **Information Gathering Starts from the Source**: The search for information about a organization starts from the organization's website. The About Us section on the organization's website will contain information about the organization's name, its important individuals, and its holdings.  Information about the networks of some institutions is also available from their websites. Information about mergers that an organization is undertaking with other organizations is also available from  organization websites and some news websites. Information about the physical location of some institutions may be available on their websites.
  * **Network Based Information Gathering**: It is difficult to directly attack the networks of large organizations. But, when small organizations merge with large organizations, the emphasis is more on connectivity between the networks of the two organizations than on security, so the security between these two networks is low, and it is possible to infiltrate the networks of this large organization through the networks of the small organization.Therefore, it is advisable to exclude information about such mergers from the website and the Internet.
  * Organizations should not publish information about their networks on their websites or the Internet. Such information collected from the Internet and the organization's website can give an attacker a preconceived idea about the organization's network and help them understand what obstacles need to be overcome on that network and what precautions need to be taken.
  * **Key Individuals Based Information Gathering**:  Using information collected about key individuals from an organization's website, it is possible to learn the physical addresses and other information of those individuals, use them to track them, physically hack their laptops, and collect information from such devices sufficient to infiltrate the organization's network.
  * Using information collected about key individuals from an organization's website, it is possible to collect the social media information of those individuals and use that social media information to launch phishing attacks on their laptops or phones through those social media accounts. It is then possible to attack the organization's networks from these laptops.
    * **Scrutinizing Key Individuals**: It is possible to collect information about key individuals in the organization, available from the organization's website or social media platforms such as LinkedIn, and using that information, to collect information about the physical location of key individuals in the organization from the Internet and websites that provide information about those individuals, from websites that provide information about individuals living in specific locations, and from websites that provide information about individuals performing specific jobs, and then to go directly to those physical locations and conduct ward driving, collect information about the wireless networks of these key individuals, and use these wireless networks to infiltrate the organization's network. 
    * There are websites available on the Internet that can collect information about the physical location of individuals using information about key individuals in the organization available from the organization's website or social media platforms such as LinkedIn, websites that provide location maps to the individuals' residences, websites that can understand the position of individuals in the organization, and websites that can collect individuals' phone numbers and emails. Such websites are used for such data collection.
    * To prevent data collection using key individuals in the organization, the publication of information about key individuals in the organization on the organization's websites and social media accounts should be discontinued. In addition, avoid publishing the name and information of the organization along with information about key individuals in online phone directories, labor union websites, and websites focused on specific locations.
  * **Location Based Information Gathering**: If information about the physical locations of organizations' offices is available from their websites or the internet, this information can be used to avail other information about the organization through certain actions. Therefore, it is best to avoid such information from websites and the Internet. This describes the activities that use information about the physical location of an organization's offices to avail other information about that organization.
    * **Dumpster Diving**: Dumpster diving is the act of searching for information about a organization in the dumpsters of its offices. Dumpster diving is a type of information gathering activity that is used to collect information about a company's employees, such as their names, addresses, and phone numbers. But sometimes operation manuals and configuration guides and financial documents may be available from such dumpsters.
    * To combat such information gathering activity, it is important to ensure that all data dumped from organizations' offices to external dumpsters is destroyed before being dumped into such dumpsters.
    * **Wardriving**: Wardriving is the process of discovering wireless networks in a organizations's offices and the status of these wireless networks. Wardriving involves discovering wireless networks in a company's offices and discovering networks and computers that are directly connected to the Internet using these wireless networks.
    * Wireless networks are become victim to the data collection activity known as wardriving because wireless devices are not configured with encryption, weak encryption is configured, and wireless access points for wireless networks are placed in physically unsecured locations.
    * If the wireless access points of wireless networks are placed in a physically unsecured location, a person who is wardriving can reset or reprogram the wireless access point and thereby gain access to that wireless access point.
    * To prevent wardriving activities, configure the strongest encryption configurations available on wireless access points, do not broadcast the SSIDs of wireless access points, and place wireless access points in secure locations.
    * **Wardialing**: Wardialing is the process of finding the area code number of an organization from the phone numbers available on its website, and then using a dial-up modem to dial and scan all the phone numbers under this area code number to find the organization's dial-up modem phone number. This operation is performed to locate computers connected to a dial-up Internet modem.
    * Although dial-up modems are obsolete, large organizations still rely on dial-up modems for backup connectivity. Dial-up modems use weak authentication methods, which can allow attackers to infiltrate the organization's network. Dial-up Internet modems are used by organizations to provide easy access to the Internet in the event of an unexpected loss of Internet connection while using a broadband Internet modem.
      * **ToneLock**: This software dials the phone numbers in each area code in the input file provided to the program and finds phone numbers with a frequency that matches the carrier frequency of the dialup Internet mode from the dial tones of the phone numbers with dial tones.
      * **THC-Scan**: Although this software program performs the same function as ToneLock, it is a software program that runs on the DOS operating system.
      * **Demon Dialer**: This is a software program used to monitor the phone number of a dial-up Internet modem detected using ToneLock and THC-Scan to determine whether this dial-up modem have authentication and, if so, to detect that authentication.
* **Information Gathering from Other Sources**: Information about the institution can be obtained from other sources besides the institution's websites, which are explained here.
  * **Information Gathering from Electronic Dumpster Diving**: Electronic dumpster diving is the activity of finding outdated, obscure, or old electronic data on the Internet. It can be avail from the website https://archive.org/.
  * The Internet Archive Wayback Machine, which provides access to outdated or old electronic data on the Internet, has over 1 trillion web pages, over 48 million texts, over 1 million videos, over 13 million audios, over 1 million software, and over 5 million images on its website https://archive.org/.
  * To retrieve an old web page of an institution's website from the Wayback Machine, search for the institution's website URL on its website https://archive.org/ and select a snapshot in a specific date from the calendar that appears. But, to search for specific types of files, select the category of those files and search for the specific file name on the page that appears.
  * You can upload your organization's website or any other files to the Wayback Machine and make them available. To do this, create a user account on the Wayback Machine website https://archive.org/ and use the Upload button.
  * If the organization's website contains confidential information about the organization, they can be removed. But, if the organization's confidential information reaches dark places on the Internet, such as the Wayback Machine, it cannot be removed from there. Therefore, in the process of checking the security of an organization's network, it is necessary to check and confirm whether confidential information about the organization is available in such dark places on the Internet before checking the security of the organization's network.
  * Dissatisfied with the policies and practices of the organization, the organization's own employees publish confidential information that can compromise the organization's networks in dark places on the Internet, such as the Wayback Machine. They use anonymous email services and Tor networks to do this, making them difficult to detect in the usual way.
  * **Information Gathering from Sucks Domains**: Sucks domains are domains that have the top-level domain name .sucks, such as .org, .com, and .net, in the domain name of an organization. You can check if a Sucks domain has been registered using the name of your organization's website or organization at https://get.sucks/. You can also search for the registration information, status information, and DNS information of a registered Sucks domain at https://get.sucks/whois/. You can also search for other domain names similar to your domain name at https://who.is/.
  * Employees of an organization who are dissatisfied with the organization's policies and practices publish confidential information that can compromise the organization's networks on websites using a sucks domain name for the organization's domain name or on websites using a domain name that is similar to the organization's domain name. To do this, they use anonymous email services and Tor networks, which make them difficult to detect in the usual way. To prevent this, the organization itself registers and maintains a sucks domain name of the organization's domain name and domain names that are similar to the organization's domain name. Such suck domains can be registered and obtained from websites such as https://www.101domain.com/sucks.htm and https://www.namecheap.com/domains/registration/gtld/sucks/. Domains with names similar to the organization's name can be registered and obtained from the websites https://www.101domain.com and https://www.namecheap.com/domains/domain-name-search/.
  * **Information Gathering from Blogs**: Employees of an organization who are dissatisfied with the policies and practices of the organization publish confidential information that compromises the organization's networks on tech blog websites. To do this, they use anonymous email services and Tor networks, which make it difficult to detect them in the usual way. The only way to prevent this is to regularly check the blog websites used by the organization's employees.
  * **Information Gathering from Dark Websites**: Employees who are dissatisfied with an organization's policies and practices sell or post confidential information that could compromise the organization's networks to websites that sell such information for money. To do this, they use anonymous email services and the Tor network, which usually makes it difficult to detect them. Such websites are found on the surface web, the dark web, and the deep web.
  * https://proton.me/mail, https://temp-mail.org/en/, https://www.guerrillamail.com/, https://addy.io/, and https://tempr.email/ are anonymous email services used for anonymous activities.
  * http://hxuzjtocnzvv5g2rtg2bhwkcbupmk7rclb6lly3fo4tvqkk5oyrv3nid.onion/?lang=en, http://2nxpboa3ya52j5au4gxwkdt4nxoh5g4y4f3tuqedlza46y35jmv6doid.onion/, and http://torbox36ijlcevujx7mjb4oiusvwgvmue7jfn2cvutwa6kl6to3uyqad.onion/lang/en are dark web email services used for anonymous activities.
  * **Information Gathering from Analyzing Web Page Source Code**: A lot of highly confidential information about an organization can be gathered by analyzing the source code of that organizations websites. 
  * Gatherable Confidential Information: These include email addresses, links to other sites, notes and comments, hidden files, passwords, information about the applications and programs used to develop the organization's website, and information about the website's structure and design.
  * To examine websites in detail, they are copied to the operating system using site ripper programs and then examined. When websites are copied in this way, they are made available as programming files. Therefore, they can be examined very easily. However, for this task, the security expert must have knowledge of programming languages ​​such as HTML, JavaScript, PHP, CSS and python.
  * Site Ripper Programs: HTTrack is a site ripper program that can be used on both Linux and Windows. Wget is a site ripper program that can only be used on Linux.
  * In the process of checking the security of an organization's network, before checking the security of the organization's network, the organization's website should be copied using any site ripper programs and the source code of the organization's website should be checked to ensure that it does not contain any confidential information related to the organization. In this check, it should be ensured that there are no hidden fields in the source code of the organization's website. Such hidden fields are found in the source codes of websites in the form of HIDDEN NAME.
  * To prevent the disclosure of confidential information about the organization from the source code of the organization's website, it is possible to reprogram the organization's website by removing hidden fields.
  * **Information Gathering by Exploiting Website Authentication**: Authentication is the combination of authentication, authorization, and accountability. If the authentication information of the organization's website can be collected, it will be possible to access sensitive areas of the website. The authentication information of the website can be collected in this way due to the weakness of the authentication. Therefore, the security expert must be aware of the different authentication methods. Only then can the necessary authentication method be implemented in the website in the required cases.
  * Authentication Methods: Authentication methods used on websites include basic authentication, form-based authentication, message digest authentication, and certificate authentication.
    * **Basic Authentication**: Basic authentication works through an operation called XOR. In this, when a user makes a request to a web server for a protected resource, the web server responds with an enter box asking for the user's username and password. The user then sends the user's username in plain text and the password as a Base64 encoded string to the web server. Then the web server's database is searched for an available username. If it is not available, access is denied. If the username is available from the database, the password string available from the user is decoded and checked to see if it is the same as the password for the username found in the database. If they are the same, the web server allows the user access to the protected resource, otherwise it denies access.
    * The Base64 encryption method used in this authentication is very weak. With this method, the data packets of the password and its username sent to the web server can be obtained through a man-in-the-middle attack. Then, the encrypted data packets of the password in this available packets can be decrypted using Base64 decoder programs to understand what the username and password are.
    * Base64 decoder programs: A program called Base64 is used in Linux to decrypt Base64 encrypted data.Also, online websites such as https://toolbox.googleapps.com/apps/encode_decode/, https://www.base64decode.net/, and https://www.base64decode.org/ are used for this purpose.
    * **Form-based Authentication**: Forms-based authentication works using web cookies. When the client authenticates to the web server for the first time, if the username and password provided by the client match the username and password in the web server's database, the web server creates a web cookie containing that username and encrypted password, passes it to the client's web browser, and creates and maintains an HTTP session to that cookie. Each time the client authenticates later, the authentication is performed using this web cookie and its HTTP session stored in the client's web browser. But, the same operations as in basic authentication are performed in this first authentication.
    * Since the HTTP protocol is a stateless protocol, web servers cannot function without web cookies. But, passwords stored in authentication cookies stored in the web browser on the client's computer are encrypted using very weak encryption algorithms such as Base64. Therefore, it is possible to extract such cookies using suitable programs by physically accessing such computers and then decrypt them using suitable decryption programs.
    * Web Cookie Extraction Programs: The web browser extensions Cookie-Editor and CookieBro are used to extract web cookies.
    * **Message Digest Authentication**: This is an authentication method developed to overcome the shortcomings of the Base64 encryption algorithm. It uses the MD5 encryption algorithm for encryption and decryption of user accounts.  In this, during the first authentication, the client provides the encrypted password, nonce value, and username to the web server using a nonce value. In subsequent authentications, authentication is done using the web cookie of this authentication. In this, the client provides the encrypted password and username to the web server using a nonce value. Since the nonce value is not specified in this, this encrypted password cannot be decrypted without knowing the nonce value. Therefore, such authentication protects against sniffing attacks. But, this type of authorization method is used for activities that require logging in and accessing protected resources.
    * **Certificate Authentication**: This is the strongest and most widely used authentication method on web servers. In this, the user provides a nonce value to the web server, and the web server encrypts this available nonce value with the web server's own nonce value to create an encrypted password called the public key. The web server also encrypts the available nonce value with another nonce value to create another encrypted password called the private key. The web server then provides the user with the public key and a registration certificate that is available for authorization to create such keys. While the web server provides the public key and certificate to the user, the organization that provided this certificate to the web server verifies this certificate and assures the user of its authenticity. The user then makes an authorization request to the web server using the public key, which then searches the web server's database for the private key of that specific public key and, if available, grants access to the web server's protected resources. Since the public key generated in this way changes with each session, extracting and decrypting this public key will not provide any benefit. But, such authorization is not used for activities that require logging in and accessing protected resources. 
  * **Information Gathering from Job Ads**: Information about the technologies used in the organization and the organization's technical infrastructure can be obtained from job advertisements that the organization publishes to attract job seekers to the organization. That is, in the advertisements that the organization places on job advertisement sites and social media to recruit candidates, it can be understood that the organization uses these technologies and devices from the explanation that the organization needs candidates who are proficient in using them.
  * If the job advertisements published by the organization can avoid providing excessive technical details and details about equipment, it will be possible to reduce the amount of information collected from job advertisements about the technologies used in the organization and the organization's technical infrastructure.
  * **Information Gathering from Financial Data**: If the institution is listed on the stock exchange, the institution's financial records can be collected from websites that collect financial information of institutions listed on the stock exchange and from the stock exchange's website. In such financial records, it can be understood whether any other organization is being merged into this organization. If so, the name of the merging organization can be used to obtain information about the domain of that organization from the Internet Assigned Numbers Authority's Whois database, and using this domain information, it is possible to infiltrate the network of the merging organization due to low security at the time of the merger and from there infiltrate the network of this organization.
  * Whois Database: IANA's Whois database is located at https://www.iana.org/whois. Other Whois databases are https://www.whois.com/whois and https://who.is/whois/google.com.
  * Financial Data Providing Sites: https://finance.yahoo.com/ and https://finance.google.com/.
  * **Information Gathering from Google Search Engine**: Google's advanced search techniques can be used to retrieve confidential information about an organization. Google advanced searches are performed using certain keywords.
  * In the process of checking the security of the organization's network, the security expert should perform a Google Advanced Search before checking the security of the organization's network to ensure that no confidential information related to the organization's network is available, and if any confidential information is available, solutions should be taken to prevent it.
  * Google Advanced Search Program: Advanced Google search programs that can be used from the terminal on Linux operating systems are available on GitHub.
  * **Information Gathering by Exploring Domain Name**: Using an organization's domain name, it is possible to obtain information about the domain's ownership, registration information, IP address, DNS information, which web server is using the domain, and the location of that web server.
    * **Domain Ownership Information**: The Internet Assigned Numbers Authority manages domain names and IP addresses on the Internet. Therefore, information about the ownership and DNS of an organization's domain name can be gathered from the Internet Assigned Numbers Authority's Whois database. Additionly this information can also be obtained from the Internet Corporation for Assigned Names and Numbers' WhoIs database. This information can be searched using the organization's domain name and the IP address of that domain.
    * The collection of information regarding the ownership of an organization's domain name can be prevented if domains are registered using domain proxies. Additionally, when registering the organization's domains, care should be taken to register the domains by providing only limited information.
    * Domain Proxy: The websites https://www.domainsbyproxy.com/domainsbyproxy and https://domainproxy.xyz/ are such domain proxies.
    * Whois Database: The websites https://www.iana.org/whois, https://who.is/ and https://lookup.icann.org/en are such Whois databases.
    * **Domain IP Address Information**: Information about the IP address of the organization's domain can be obtained from the Whois databases of Regional Internet Registries. The world is divided into five regional Internet registries, each of which manages a specific range of public IPs.
    * Public IP addresses in North American countries are distributed by a regional Internet registry called the American Registry for Internet Numbers. The Regional Internet Registry, known as the RIP Network Coordination Center, distributes public IP addresses to countries in the Europe, Middle East, and Central Asia region. Public IP addresses are distributed to countries in the Asia Pacific region by the Asia Pacific Network Information Center, a regional Internet registry. The Latin American and Caribbean Internet Address Registry is a regional Internet registry that distributes public IP addresses to countries in the Latin American and Caribbean region. Public IP addresses are distributed to countries in the African region by a regional Internet registry called the African Network Information Center.
    * The location of public IP addresses is determined by the work of regional Internet registries and their affiliated Internet service providers. The location of public IP addresses is determined based on which Internet service provider a given public IP address is assigned to. But, there is no connection between the physical location of the organization and the physical location of the organization's domain. This means that an organization operating in one country can register a domain in another country.
    * By registering domains using domain proxies, you can prevent the collection of information about the domain's IP address.
    * Domain to IP Address Finder: https://domaintoipconverter.com/index.php
    * IP Address to Domain Name Finder: https://dnschecker.org/ip-to-hostname.php, https://tools.iplocation.net/hostname-to-ip
    * IP Address Location Finder: https://www.iplocation.net/
    * Regional Internet Registries Whois Database: https://whois.arin.net/ui/, https://stat.ripe.net/widget/whois, https://wq.apnic.net/static/search.html, https://query.milacnic.lacnic.net/home, https://www.afrinic.net/whois/ip-tools.
    * **Domain Name Server (DNS) Information**: DNS servers on the Internet act like a phone book between IP addresses and domain names on the Internet. That is, DNS servers on the Internet find the IP addresses of domain names on the Internet and route to these IP addresses.
    * DNS on the Internet has a precise mechanism of operation. The DNS on the Internet is a collection of DNS servers. When a client requests a specific domain from the Internet, this request is sent to the DNS server of that client's ISP. This is because the client's router or modem will specify the IP of the client's ISP's DNS server. The client's ISP's DNS server then routes the client's request to the IP address of the route DNS server with the least traffic. The root DNS server then forwards the client's request to the IP address of the top-level DNS server in that request. This top-level DNS server then forwards the client's request to the IP address of the primary DNS server in the client's request. This primary DNS server then forwards the client's request to the IP address of the DNS server for the domain in the client's request. The DNS server for the domain in the client's request then passes the IP address of the domain in the client's request through the primary DNS, through the top-level DNS, through the root DNS, to the DNS of the client's ISP. Then the DNS of the client's ISP provides the IP address of the domain in the client's request to the client. Then the client sends the request to this domain's IP address in the appropriate protocol and then establishes a session between this domain and the client and performs the necessary operations. But, there will also be secondary DNS servers depending on the specifics of the requested domain in this operation.
    * By securely configuring the DNS servers for the organization's domain, it is possible to prevent the organization's domain's DNS information from being available over the Internet.
    * DNS Cache Viewing:  To view the DNS records of the IP addresses of domains requested from the local computer, enter about:networking#dns in the Firefox web browser or chrome://net-internals/#dns in the Chrome browser.
    * DNS Information Gathering Tool: nslookup, dig.
    * DNS Information Gathering Website: https://dnschecker.org/all-dns-records-of-domain.php.
    * **Web Server Software Information**: Web servers are available on the Internet that use different types of web server software to build websites of organization. This information can be obtained from the Internet. Information such as the web server software used on the web server on which the organization's website is built, the version of that web server software, and the services and technologies used to build that website can be obtained from the Internet.
    * By replacing the banners on the organization's website, you can prevent the website's web server software from collecting information. To do this, simply register your organization's network as a domain, configure a web server on it, change some configurations on that web server, and host the website on that web server.
    * Web Server Software Information Gathering Site: https://www.netcraft.com/.
    * Web Server Software Information Gathering Tool: dmitry.
    * Web Site Banner Grabbing Tool: netcat.
    * **Web Server Location Information**: Information can be obtained about whether the organization's web server is part of the organization's registered network domain  or is a virtual server on the network of some other organization that provides web servers. For this uses a process called traceroute, which finds the DNS path of the organization's web server.
    * A program called Traceroute is used to find only the IP addresses in the DNS path to the web server. But, a program called VisualTraceroute is used to find the IP addresses in the DNS path to the web server and their location. A program called HPing3 is used to find the IP addresses that rejected, dropped, and accepted data packets in the DNS path to the web server, analyze them, and find the IP address of the network firewall for that IP address and to find the opened ports in the network firewall.
    * To protect the organization's web servers from activities that provide IP addresses in the DNS path to the web server, register the organization's network as a domain, configure a network firewall on this network, and configure the firewall to reject data packets used to locate IP addresses in the DNS path.
    * Traceroute Tool: traceroute, hping3, visual traceroute(https://visualtraceroute.net/).
    * Traceroute Website: https://dnschecker.org/online-traceroute.php.

* **Profile Building of Organization**: This explains how to build an organization's profile using the collected information. In this, a table is prepared using all the information collected by the institution. 
* The organization's profile list should include the organization's name, organization's website URL, organization's domain name, organization's address, organization's phone number, organization's email ID, and organization's IP address.
* The organization's profile list should include the organization's IP address range, information about the devices on the organization's network, and information about the organization's subdomains.
* The organization's profile list should include the organization's domain ownership information, the organization's domain DNS information, information about the organization's web server's operating system and web server software, information about the technologies used on the organization's website, and information about hidden fields on the organization's website.
* The organization's profile list should include information about the organization's wireless network, information about the organization's network router, and information about other network devices in the organization.
* The company profile list should include information about the company's old website data, the company's suck domains, other domains similar to the company's domain name, sensitive information made available on the company's social media, sensitive information made available on the company's employees' social media, sensitive information made available in the company's job listing advertisements, sensitive information in the company's financial data, and information about other companies that are prepared to merge with the company.
* The organization's profile list should include authentication information for the organization's web server and domain.
* The organization's profile list should include information about the organization's key people, information about the wireless networks of those key people, and information about the social media of the organization's key people.
* The organization's profile list should also include other information about the organization.