# Detecting Live Systems
* **Description**: It explains the processes used to detect active devices on an organization's domain's network, the programs used in each of these processes, the protocols used in these programs, and the actions taken to prevent the detection of devices running on an organization's domain network.

* **Introduction**: After gathering information about an organization's domain and its network, this document describes the programs and technologies used to discover network devices, computers, and virtual machines actively running on that network. Additionally, this document also explains the protocols used in these programs and how they work.

* **Port Scanning**: Port scanning is used to discover physical and virtual devices and the services on those devices in an organization's domain network. That is, port scanning is used to find out what operating system is running on a device in the organization's domain network, what version of that operating system is running, what server software is configured on it, and what version of that server software is running. Port scanning programs are used for this purpose. That is, devices using vulnerable versions of operating systems and server software are detected on the organization's domain network through port scanning.
 
* **IT Security Lab Network Reset for Port Scanning**: Check how the port scanning programs on the software test platform in the IT Security Lab network are working and if they are not working properly, the necessary ports on the network devices, including network firewalls, in the IT Security Lab network and the software test platform should be configured as opened and the IT Security Lab network and the software test platform should be reconfigured to ensure that they work properly.

* **Detecting Active Systems**: Port scanning, wardriving, and wardialing are used to discover active network devices, computers, or virtual devices on an organization's domain network. But, wardriving and wardialing are used as an alternative to port scanning to discover active network devices, computers, or virtual devices on an organization's domain network. But, ICMP protocol processes are used to detect active devices on wireless networks discovered using Wardriving.
* Port scanning is used to discover active devices on an organization's network through ICMP operations and then discover which services and applications are running on these devices.
  * **Wardriving**: Wardialing is the process of detecting an unsecured dial-up modem used for Internet connectivity from a telephone network in a specified location, while wardriving is the process of detecting an unsecured wireless access point from wireless networks in a specified location. But, it is possible to access the organization's wireless networks or the wireless networks of key individuals in the organization through warddriving, and to access the organization's networks from those wireless networks.
  * Network firewalls, VPNs, and IDSs are used to protect organization's networks from wireless networks and wardriving processes via wireless networks. But, by configuring a wireless access point after the network firewall in the organization's network, it is possible to bypass all such protections and access organization's networks using the wardriving method. But, the real problem is not that wireless networks cannot be secured, but that we do not know how to secure them. Not implementing security in wireless networks and using old wireless algorithms and protocols with vulnerabilities put wireless networks at risk.
    * **Wardriving Protections**: Network firewalls, VPNs, and IDSs are used to protect organization's networks from wireless networks and wardriving processes via wireless networks.
      * **Network Firewalls**: Firewalls are used to protect an organization's users and assets from specific types of network traffic. If you configure a network firewall at the border router of the organization's network or the IT security lab network, you can monitor and filter traffic to protect internal resources, allowing or blocking specific protocols as needed.
      * **VPNs**: A VPN, or Virtual Private Network, is used to route communication over the Internet through a secure channel or tunnel and to encrypt this communication.
      * **IPS**: An intrusion prevention system (IPS) is used to monitor traffic going into and out of a network, as well as internal network traffic, it is possible thereby detecting and blocking intrusion traffic with specific patterns, and allowing such traffic with specific patterns when necessary.
      * **Encryption**: Encryption can prevent the leakage of data being collected or transmitted.
    * **Wardriving Programs**: This describes programs used to detect and access unsecured wireless networks, either through the organization's wireless network or through the wireless networks of key individuals in the organization, in order to gain access to the organization's network.
      * **Kismet**: This program is used for wardriving to discover wireless networks. To use it, need a wireless NIC adapter that can monitor wireless network traffic and inject data packets into the wireless network, and a laptop that can connect to it.
      * **Netdiscover**: This program is used for wardriving to discover wireless devices and find the IP range of these wireless devices. To use it, you need a wireless NIC adapter that can monitor wireless network traffic and inject data packets into the wireless network, and a laptop that can connect to it.
      * **Gpsd**: This program is used to perform wardriving to detect GPS devices and discover wireless networks on those GPS devices. That is, it uses GPSSD to detect GPS devices and uses Kismet to discover wireless networks on those GPS devices. To use it, you need a GlobalSat BU-353-S4 dongle and a laptop that can connect to it.
  * **ICMP**: ICMP, which stands for Internet Control Message Protocol, is a part of the TCP/IP protocol suite. It is used to diagnose problems in networks. ICMP is a network diagnostic protocol that generates and sends error messages to the network to indicate any problems in the network. This explains how it works and what it is designed for.
  * After identifying connected wireless networks, ICMP is used to map out the organization's internal network and identify active physical and virtual devices.
    * **ICMP Restrictions**: Any network device using the TCP/IP suite can process ICMP messages. To prevent "ping flooding" or reconnaissance, administrators should restrict ICMP operations. Common strategies include treating ICMP as normal traffic without priority, rejecting unsolicited ICMP packets, limiting replies to multicast/broadcast requests, or using alternative diagnostic protocols when ICMP is disabled.
    * **Ping & Sweep Programs**: Since the protocol does not specify what data should be in an ICMP packet, ICMP can be used for different purposes and different uses. Different programs are used for this. Additionally, sweep programs are used to ping all IP addresses in the IP address range of the organization's network, one after the other, using ICMP to identify which devices on the organization's network are activated. These two categories of programs are also explained here. 
      * **Ping**: Ping is an ICMP program used to test network connectivity. But, ping is also used to check whether a device at a specific IP address on an organization's network is operational.
      * An ICMP Echo Request is sent to a specified IP address on the organization's network and the device at that specified IP address is identified as operational based on the reply message received.
      * **Fping**: This program is used to ping in all the IP addresses on an organization's network one after the other, to identify which devices are running on that network.
      * **Hping3**: This program is used to ping all IP addresses connected to the router found at a specific IP address on the organization's network using ICMP. This allows you to identify which devices are active among the devices connected to that router.
      * **Nmap**: This is a port scanning program. This program is used to ping all IP addresses on an organization's network using ICMP, one after the other. This allows you to determine which devices on the organization's network are activated.
  * **Port Scanning**: Ping and sweep ping programs can only be used to discover active physical and virtual devices on organization's networks that do not have ICMP filtering. Firewalls and gateways in organization's networks typically have ICMP filtering configured. Port scanning programs are used to detect active physical and virtual devices on such networks.
  * Port scanning is the process of connecting a test computer to the TCP and UDP ports of services and applications to determine which services and applications are running on an organization's physical and virtual devices. This activity is performed to identify the services and applications running on the organization's active physical and virtual devices and thereby determine what type of penetration testing should be performed on that device.
    * **TCP/IP Basics**: To understand the information available through port scanning of physical and virtual devices on an organization's network and to decide what type of port scanning to perform, you must know the basics of the TCP/IP protocol stack.
    * All devices on a network that communicates via TCP/IP support all of the protocols contained in the Transmission Control Protocol (TCP) and User Datagram Protocol (UDP). Each specific protocol in the TCP/IP protocol stack was developed for specific purposes. The article https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml describes each protocol in the TCP/IP protocol stack and the port numbers they use.  A security expert should understand the operation of the most important and commonly used protocols in TCP/IP protocol stack.
    * As the Internet grew, the TCP/IP protocol stack evolved to meet its needs. The designers of the early protocols (which operated in a more trusted environment) prioritized flexibility over security, leading to inherent vulnerabilities. While TCP/IP v4 remains widely used, networks are migrating to TCP/IP v6, which includes native support for security features like IPSec to protect data transmission.
      * **Wireshark**: To understand the workings of the protocols in the TCP/IP stack, you need to use packet analyzer programs such as Wireshark to understand the encapsulation of data packets transmitted over the network and the structure of data packets. Therefore, we explain how to configure Wireshark on Debian based Linux operating systems and how to analyze data packets transmitted over the network using it. 
      * During the installation of Wireshark on a Debian-based system, you should select **Yes** when prompted to allow non-superusers to capture packets. This allows your regular user account to perform network analysis without requiring root privileges. The commands for installation are:

```bash
sudo apt update
sudo apt install wireshark -y
```
